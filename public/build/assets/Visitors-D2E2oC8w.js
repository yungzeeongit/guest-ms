import{d as X,l as i,T as J,i as P,q as K,g as h,a as n,u as a,w as b,F as S,o as u,Z as R,b as e,j as k,s as W,x as F,n as V,h as C,c as ee,e as g,y as te,t as m,f as $}from"./app-Cs4v3zg9.js";import{_ as se}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BtNDy9iO.js";import{_ as v,a as _,P as q,D as oe}from"./DeleteConfirmatiomModal-GiV-AMqc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const le=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Guest Manager",-1),ae={class:"py-12"},ne={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},ie={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},de={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},re={class:"flex flex-wrap items-center justify-between pb-4 space-y-4 bg-white flex-column md:flex-row md:space-y-0"},ce={class:"mt-4 ml-5"},ue=e("div",{class:"pr-1"},"Add",-1),me=e("svg",{class:"w-3 h-3 mb-1 text-white me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 16"},[e("path",{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"})],-1),pe=[ue,me],he={class:"fixed inset-0 bg-black bg-opacity-50"},fe={class:"relative w-full max-w-2xl max-h-full p-4"},xe={class:"relative bg-white rounded-lg shadow"},be={class:"flex items-center justify-between p-4 border-b rounded-t md:p-5"},ge={key:0,class:"text-xl font-semibold text-gray-900"},ve={key:1,class:"text-xl font-semibold text-gray-900"},_e=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),ye=e("span",{class:"sr-only"},"Close modal",-1),we=[_e,ye],ke={class:"p-4 space-y-4 md:p-5"},Ve={class:"max-w-sm mx-auto"},Ce={class:"mb-5"},Me={class:"mb-5"},je={class:"mb-5"},Ne={class:"mb-5"},Be={class:"flex items-center justify-center p-4 border-t border-gray-200 rounded-b md:p-5"},De=e("label",{for:"table-search",class:"sr-only"},"Search",-1),Pe={class:"w-full text-sm text-left text-gray-500 rtl:text-right"},Se=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"p-4"},[e("div",{class:"flex items-center"})]),e("th",{scope:"col",class:"px-6 py-3"}," Full Name "),e("th",{scope:"col",class:"px-6 py-3"}," Email "),e("th",{scope:"col",class:"px-6 py-3"}," Phone Number "),e("th",{scope:"col",class:"px-6 py-3"}," Company "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),Fe=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),$e={class:"px-6 py-4"},qe={class:"px-6 py-4"},He={class:"px-6 py-4"},Ue={class:"flex items-center"},Ae=e("div",{class:"h-2.5 w-2.5 rounded-full bg-green-500 me-2"},null,-1),Ee={class:"px-6 py-4"},Te={class:"px-6 py-4"},ze=["onClick"],Ie=["onClick"],Le={class:"flex flex-wrap items-center justify-center p-4 space-y-4 bg-white flex-column md:flex-row md:space-y-0"},Ze=["disabled"],Oe=["disabled"],Je=X({__name:"Visitors",props:{visitors:{type:Array,default:()=>[]}},setup(H){const f=H,U=i("Are you sure you want to delete this Visitor(s)?"),A=i("Yes, I'm sure"),E=i("No, cancel"),p=i([...f.visitors]),r=i(1),y=i(10),d=i(!1),c=i(!1),x=i(!1),M=i(""),w=i(""),t=J({id:0,full_name:"",email:"",phone_number:"",company:""}),T=()=>{const o=M.value;t.delete(route("visitors.destroy",{visitor:o}),{onFinish:()=>{x.value=!1}})},z=o=>{console.log(o.id),M.value=String(o.id),x.value=!0},I=()=>{x.value=!1},L=()=>{t.post(route("visitors.store"),{onFinish:()=>{}}),d.value=!1},Z=()=>{console.log("Starting"),console.log(t.id),t.put(route("visitors.update",{visitor:t.id}),{onFinish:()=>{t.reset("full_name","email","phone_number","company"),d.value=!1}})},O=o=>{d.value=!1,j(),c.value=!0,t.id=o.id,t.full_name=o.full_name,t.phone_number=o.phone_number,t.email=o.email,t.company=o.company,d.value=!0},j=()=>{t.full_name="",t.phone_number="",t.email="",t.company=""},Y=()=>{console.log("i hit "),d.value=!1,j(),d.value=!0},N=()=>{d.value=!1,c.value=!1},B=()=>{const o=w.value.toLowerCase();o.length>0?p.value=f.visitors.filter(l=>Object.values(l).some(s=>s&&s.toString().toLowerCase().includes(o))):p.value=[...f.visitors],console.log(p.value)},G=P(()=>{const o=(r.value-1)*y.value,l=o+y.value;return p.value.slice(o,l)}),D=P(()=>Math.ceil(p.value.length/y.value));return K(()=>f.visitors,o=>{B()}),(o,l)=>(u(),h(S,null,[n(a(R),{title:"Dashboard"}),n(se,null,{header:b(()=>[le]),default:b(()=>[e("div",ae,[e("div",ne,[e("div",ie,[e("div",de,[e("div",re,[e("div",ce,[e("button",{onClick:Y,"data-modal-target":"static-modal","data-modal-toggle":"static-modal",class:"inline-flex items-center px-3 py-2 pl-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300",type:"button"},pe),k(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>w.value=s),onInput:B,placeholder:"Search...",class:"search-input rounded-lg ml-20"},null,544),[[W,w.value]]),k(e("div",he,null,512),[[F,d.value]]),e("div",{class:V([{hidden:!d.value},"flex overflow-y-auto overflow-x-hidden fixed top-1/2 right-1/2 left-1/2 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"]),id:"static-modal","data-modal-backdrop":"static",tabindex:"-1","aria-hidden":"true"},[e("div",fe,[e("div",xe,[e("div",be,[c.value?C("",!0):(u(),h("h3",ge," Add Visitor ")),c.value?(u(),h("h3",ve," Edit Visitor ")):C("",!0),e("button",{onClick:N,type:"button",class:"inline-flex items-center justify-center w-8 h-8 text-sm text-gray-400 bg-transparent rounded-lg hover:bg-gray-200 hover:text-gray-900 ms-auto","data-modal-hide":"static-modal"},we)]),e("div",ke,[e("form",Ve,[e("div",Ce,[n(v,{for:"name",value:"Full Name"}),n(_,{id:"name",type:"text",modelValue:a(t).full_name,"onUpdate:modelValue":l[1]||(l[1]=s=>a(t).full_name=s),required:"",autofocus:"",placeholder:"Omoboriola Chukwudi Danjuma",autocomplete:"off"},null,8,["modelValue"])]),e("div",Me,[n(v,{for:"name",value:"Email"}),n(_,{id:"email",type:"email",modelValue:a(t).email,"onUpdate:modelValue":l[2]||(l[2]=s=>a(t).email=s),required:"",autofocus:"",placeholder:"example@example.com",autocomplete:"off"},null,8,["modelValue"])]),e("div",je,[n(v,{for:"name",value:"Phone Number"}),n(_,{id:"phone",type:"text",modelValue:a(t).phone_number,"onUpdate:modelValue":l[3]||(l[3]=s=>a(t).phone_number=s),required:"",autofocus:"",placeholder:"07000000000",autocomplete:"off"},null,8,["modelValue"])]),e("div",Ne,[n(v,{for:"name",value:"Company"}),n(_,{id:"company",type:"text",modelValue:a(t).company,"onUpdate:modelValue":l[4]||(l[4]=s=>a(t).company=s),required:"",autofocus:"",placeholder:"XYZ Limited",autocomplete:"off"},null,8,["modelValue"])])])]),e("div",Be,[c.value?C("",!0):(u(),ee(q,{key:0,onClick:L,class:V(["text-center",{"opacity-25":a(t).processing}]),disabled:a(t).processing},{default:b(()=>[g(" Create ")]),_:1},8,["class","disabled"])),k(n(q,{onClick:Z,class:V(["text-center",{"opacity-25":a(t).processing}]),disabled:a(t).processing},{default:b(()=>[g(" Update ")]),_:1},8,["class","disabled"]),[[F,c.value]]),e("button",{onClick:N,type:"button",class:"ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"},"Cancel")])])])],2),e("div",null,[n(oe,{"show-modal":x.value,message:U.value,"confirm-button-text":A.value,"cancel-button-text":E.value,"confirm-action":T,"close-modal":I},null,8,["show-modal","message","confirm-button-text","cancel-button-text"])])]),De]),e("table",Pe,[Se,e("tbody",null,[(u(!0),h(S,null,te(G.value,s=>(u(),h("tr",{key:s.id,class:"bg-white border-b hover:bg-gray-50"},[Fe,e("td",$e,m(s.full_name),1),e("td",qe,m(s.email),1),e("td",He,[e("div",Ue,[Ae,g(" "+m(s.phone_number),1)])]),e("td",Ee,m(s.company),1),e("td",Te,[e("a",{href:"#",onClick:$(Q=>O(s),["stop"]),class:"font-medium text-blue-600 hover:underline"},"Edit",8,ze),g(" / "),e("a",{href:"#",onClick:$(Q=>z(s),["stop"]),class:"font-medium text-red-600 hover:underline"},"Delete",8,Ie)])]))),128))])]),e("div",Le,[e("button",{disabled:r.value===1,onClick:l[5]||(l[5]=s=>r.value--),class:"inline-flex items-center mr-3 px-3 py-1 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-2"}," Prev ",8,Ze),e("span",null,"Page "+m(r.value)+" of "+m(D.value),1),e("button",{disabled:r.value===D.value,onClick:l[6]||(l[6]=s=>r.value++),class:"inline-flex items-center ml-3 px-3 py-1 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-2"}," Next ",8,Oe)])])])])])]),_:1})],64))}});export{Je as default};
